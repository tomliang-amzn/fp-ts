"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.bindTo = bindTo;
exports.flap = flap;
exports.getFunctorComposition = getFunctorComposition;
exports.map = map;

var _function = require("./function");

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function map(F, G) {
  return function (f) {
    return function (fa) {
      return F.map(fa, function (ga) {
        return G.map(ga, f);
      });
    };
  };
}
/**
 * @category combinators
 * @since 2.10.0
 */


function flap(F) {
  return function (a) {
    return function (fab) {
      return F.map(fab, function (f) {
        return f(a);
      });
    };
  };
} // -------------------------------------------------------------------------------------
// utils
// -------------------------------------------------------------------------------------

/**
 * @since 2.10.0
 */


function bindTo(F) {
  return function (name) {
    return function (fa) {
      return F.map(fa, function (a) {
        return _defineProperty({}, name, a);
      });
    };
  };
} // -------------------------------------------------------------------------------------
// deprecated
// -------------------------------------------------------------------------------------
// tslint:disable: deprecation

/**
 * @since 2.0.0
 * @deprecated
 */


/** @deprecated */
function getFunctorComposition(F, G) {
  var _map = map(F, G);

  return {
    map: function map(fga, f) {
      return (0, _function.pipe)(fga, _map(f));
    }
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9mcC10cy9GdW5jdG9yLnRzIl0sIm5hbWVzIjpbIm1hcCIsIkYiLCJHIiwiZiIsImZhIiwiZ2EiLCJmbGFwIiwiYSIsImZhYiIsImJpbmRUbyIsIm5hbWUiLCJnZXRGdW5jdG9yQ29tcG9zaXRpb24iLCJfbWFwIiwiZmdhIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBYUE7Ozs7QUFzSE8sU0FBU0EsR0FBVCxDQUNMQyxDQURLLEVBRUxDLENBRkssRUFHbUU7QUFDeEUsU0FBTyxVQUFDQyxDQUFEO0FBQUEsV0FBTyxVQUFDQyxFQUFEO0FBQUEsYUFBUUgsQ0FBQyxDQUFDRCxHQUFGLENBQU1JLEVBQU4sRUFBVSxVQUFDQyxFQUFEO0FBQUEsZUFBUUgsQ0FBQyxDQUFDRixHQUFGLENBQU1LLEVBQU4sRUFBVUYsQ0FBVixDQUFSO0FBQUEsT0FBVixDQUFSO0FBQUEsS0FBUDtBQUFBLEdBQVA7QUFDRDtBQUVEO0FBQ0E7QUFDQTtBQUNBOzs7QUFZTyxTQUFTRyxJQUFULENBQWlCTCxDQUFqQixFQUF5RjtBQUM5RixTQUFPLFVBQUNNLENBQUQ7QUFBQSxXQUFPLFVBQUNDLEdBQUQ7QUFBQSxhQUFTUCxDQUFDLENBQUNELEdBQUYsQ0FBTVEsR0FBTixFQUFXLFVBQUNMLENBQUQ7QUFBQSxlQUFPQSxDQUFDLENBQUNJLENBQUQsQ0FBUjtBQUFBLE9BQVgsQ0FBVDtBQUFBLEtBQVA7QUFBQSxHQUFQO0FBQ0QsQyxDQUVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQXNCTyxTQUFTRSxNQUFULENBQ0xSLENBREssRUFFa0Y7QUFDdkYsU0FBTyxVQUFDUyxJQUFEO0FBQUEsV0FBVSxVQUFDTixFQUFEO0FBQUEsYUFBUUgsQ0FBQyxDQUFDRCxHQUFGLENBQU1JLEVBQU4sRUFBVSxVQUFDRyxDQUFEO0FBQUEsbUNBQVdHLElBQVgsRUFBa0JILENBQWxCO0FBQUEsT0FBVixDQUFSO0FBQUEsS0FBVjtBQUFBLEdBQVA7QUFDRCxDLENBRUQ7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQW9KQTtBQUNPLFNBQVNJLHFCQUFULENBQXFDVixDQUFyQyxFQUFvREMsQ0FBcEQsRUFBNkY7QUFDbEcsTUFBTVUsSUFBSSxHQUFHWixHQUFHLENBQUNDLENBQUQsRUFBSUMsQ0FBSixDQUFoQjs7QUFDQSxTQUFPO0FBQ0xGLElBQUFBLEdBQUcsRUFBRSxhQUFDYSxHQUFELEVBQU1WLENBQU47QUFBQSxhQUFZLG9CQUFLVSxHQUFMLEVBQVVELElBQUksQ0FBQ1QsQ0FBRCxDQUFkLENBQVo7QUFBQTtBQURBLEdBQVA7QUFHRCIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQSBgRnVuY3RvcmAgaXMgYSB0eXBlIGNvbnN0cnVjdG9yIHdoaWNoIHN1cHBvcnRzIGEgbWFwcGluZyBvcGVyYXRpb24gYG1hcGAuXG4gKlxuICogYG1hcGAgY2FuIGJlIHVzZWQgdG8gdHVybiBmdW5jdGlvbnMgYGEgLT4gYmAgaW50byBmdW5jdGlvbnMgYGYgYSAtPiBmIGJgIHdob3NlIGFyZ3VtZW50IGFuZCByZXR1cm4gdHlwZXMgdXNlIHRoZSB0eXBlXG4gKiBjb25zdHJ1Y3RvciBgZmAgdG8gcmVwcmVzZW50IHNvbWUgY29tcHV0YXRpb25hbCBjb250ZXh0LlxuICpcbiAqIEluc3RhbmNlcyBtdXN0IHNhdGlzZnkgdGhlIGZvbGxvd2luZyBsYXdzOlxuICpcbiAqIDEuIElkZW50aXR5OiBgRi5tYXAoZmEsIGEgPT4gYSkgPC0+IGZhYFxuICogMi4gQ29tcG9zaXRpb246IGBGLm1hcChmYSwgYSA9PiBiYyhhYihhKSkpIDwtPiBGLm1hcChGLm1hcChmYSwgYWIpLCBiYylgXG4gKlxuICogQHNpbmNlIDIuMC4wXG4gKi9cbmltcG9ydCB7IHBpcGUgfSBmcm9tICcuL2Z1bmN0aW9uJ1xuaW1wb3J0IHsgSEtULCBLaW5kLCBLaW5kMiwgS2luZDMsIEtpbmQ0LCBVUklTLCBVUklTMiwgVVJJUzMsIFVSSVM0IH0gZnJvbSAnLi9IS1QnXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIG1vZGVsXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8qKlxuICogQGNhdGVnb3J5IHR5cGUgY2xhc3Nlc1xuICogQHNpbmNlIDIuMC4wXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRnVuY3RvcjxGPiB7XG4gIHJlYWRvbmx5IFVSSTogRlxuICByZWFkb25seSBtYXA6IDxBLCBCPihmYTogSEtUPEYsIEE+LCBmOiAoYTogQSkgPT4gQikgPT4gSEtUPEYsIEI+XG59XG5cbi8qKlxuICogQGNhdGVnb3J5IHR5cGUgY2xhc3Nlc1xuICogQHNpbmNlIDIuMC4wXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRnVuY3RvcjE8RiBleHRlbmRzIFVSSVM+IHtcbiAgcmVhZG9ubHkgVVJJOiBGXG4gIHJlYWRvbmx5IG1hcDogPEEsIEI+KGZhOiBLaW5kPEYsIEE+LCBmOiAoYTogQSkgPT4gQikgPT4gS2luZDxGLCBCPlxufVxuXG4vKipcbiAqIEBjYXRlZ29yeSB0eXBlIGNsYXNzZXNcbiAqIEBzaW5jZSAyLjAuMFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEZ1bmN0b3IyPEYgZXh0ZW5kcyBVUklTMj4ge1xuICByZWFkb25seSBVUkk6IEZcbiAgcmVhZG9ubHkgbWFwOiA8RSwgQSwgQj4oZmE6IEtpbmQyPEYsIEUsIEE+LCBmOiAoYTogQSkgPT4gQikgPT4gS2luZDI8RiwgRSwgQj5cbn1cblxuLyoqXG4gKiBAY2F0ZWdvcnkgdHlwZSBjbGFzc2VzXG4gKiBAc2luY2UgMi4wLjBcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBGdW5jdG9yMkM8RiBleHRlbmRzIFVSSVMyLCBFPiB7XG4gIHJlYWRvbmx5IFVSSTogRlxuICByZWFkb25seSBfRTogRVxuICByZWFkb25seSBtYXA6IDxBLCBCPihmYTogS2luZDI8RiwgRSwgQT4sIGY6IChhOiBBKSA9PiBCKSA9PiBLaW5kMjxGLCBFLCBCPlxufVxuXG4vKipcbiAqIEBjYXRlZ29yeSB0eXBlIGNsYXNzZXNcbiAqIEBzaW5jZSAyLjAuMFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEZ1bmN0b3IzPEYgZXh0ZW5kcyBVUklTMz4ge1xuICByZWFkb25seSBVUkk6IEZcbiAgcmVhZG9ubHkgbWFwOiA8UiwgRSwgQSwgQj4oZmE6IEtpbmQzPEYsIFIsIEUsIEE+LCBmOiAoYTogQSkgPT4gQikgPT4gS2luZDM8RiwgUiwgRSwgQj5cbn1cblxuLyoqXG4gKiBAY2F0ZWdvcnkgdHlwZSBjbGFzc2VzXG4gKiBAc2luY2UgMi4yLjBcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBGdW5jdG9yM0M8RiBleHRlbmRzIFVSSVMzLCBFPiB7XG4gIHJlYWRvbmx5IFVSSTogRlxuICByZWFkb25seSBfRTogRVxuICByZWFkb25seSBtYXA6IDxSLCBBLCBCPihmYTogS2luZDM8RiwgUiwgRSwgQT4sIGY6IChhOiBBKSA9PiBCKSA9PiBLaW5kMzxGLCBSLCBFLCBCPlxufVxuXG4vKipcbiAqIEBjYXRlZ29yeSB0eXBlIGNsYXNzZXNcbiAqIEBzaW5jZSAyLjAuMFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEZ1bmN0b3I0PEYgZXh0ZW5kcyBVUklTND4ge1xuICByZWFkb25seSBVUkk6IEZcbiAgcmVhZG9ubHkgbWFwOiA8UywgUiwgRSwgQSwgQj4oZmE6IEtpbmQ0PEYsIFMsIFIsIEUsIEE+LCBmOiAoYTogQSkgPT4gQikgPT4gS2luZDQ8RiwgUywgUiwgRSwgQj5cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gY29tYmluYXRvcnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLyoqXG4gKiBgbWFwYCBjb21wb3NpdGlvbi5cbiAqXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqIEBzaW5jZSAyLjEwLjBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hcDxGIGV4dGVuZHMgVVJJUzMsIEcgZXh0ZW5kcyBVUklTPihcbiAgRjogRnVuY3RvcjM8Rj4sXG4gIEc6IEZ1bmN0b3IxPEc+XG4pOiA8QSwgQj4oZjogKGE6IEEpID0+IEIpID0+IDxSLCBFPihmYTogS2luZDM8RiwgUiwgRSwgS2luZDxHLCBBPj4pID0+IEtpbmQzPEYsIFIsIEUsIEtpbmQ8RywgQj4+XG5leHBvcnQgZnVuY3Rpb24gbWFwPEYgZXh0ZW5kcyBVUklTMiwgRyBleHRlbmRzIFVSSVMyPihcbiAgRjogRnVuY3RvcjI8Rj4sXG4gIEc6IEZ1bmN0b3IyPEc+XG4pOiA8QSwgQj4oZjogKGE6IEEpID0+IEIpID0+IDxFRiwgRUc+KGZhOiBLaW5kMjxGLCBFRiwgS2luZDI8RywgRUcsIEE+PikgPT4gS2luZDI8RiwgRUYsIEtpbmQyPEcsIEVHLCBCPj5cbmV4cG9ydCBmdW5jdGlvbiBtYXA8RiBleHRlbmRzIFVSSVMyLCBHIGV4dGVuZHMgVVJJUz4oXG4gIEY6IEZ1bmN0b3IyPEY+LFxuICBHOiBGdW5jdG9yMTxHPlxuKTogPEEsIEI+KGY6IChhOiBBKSA9PiBCKSA9PiA8RT4oZmE6IEtpbmQyPEYsIEUsIEtpbmQ8RywgQT4+KSA9PiBLaW5kMjxGLCBFLCBLaW5kPEcsIEI+PlxuZXhwb3J0IGZ1bmN0aW9uIG1hcDxGIGV4dGVuZHMgVVJJUywgRyBleHRlbmRzIFVSSVMzPihcbiAgRjogRnVuY3RvcjE8Rj4sXG4gIEc6IEZ1bmN0b3IzPEc+XG4pOiA8QSwgQj4oZjogKGE6IEEpID0+IEIpID0+IDxSLCBFPihmYTogS2luZDxGLCBLaW5kMzxHLCBSLCBFLCBBPj4pID0+IEtpbmQ8RiwgS2luZDM8RywgUiwgRSwgQj4+XG5leHBvcnQgZnVuY3Rpb24gbWFwPEYgZXh0ZW5kcyBVUklTLCBHIGV4dGVuZHMgVVJJUzI+KFxuICBGOiBGdW5jdG9yMTxGPixcbiAgRzogRnVuY3RvcjI8Rz5cbik6IDxBLCBCPihmOiAoYTogQSkgPT4gQikgPT4gPEU+KGZhOiBLaW5kPEYsIEtpbmQyPEcsIEUsIEE+PikgPT4gS2luZDxGLCBLaW5kMjxHLCBFLCBCPj5cbmV4cG9ydCBmdW5jdGlvbiBtYXA8RiBleHRlbmRzIFVSSVMsIEcgZXh0ZW5kcyBVUklTPihcbiAgRjogRnVuY3RvcjE8Rj4sXG4gIEc6IEZ1bmN0b3IxPEc+XG4pOiA8QSwgQj4oZjogKGE6IEEpID0+IEIpID0+IChmYTogS2luZDxGLCBLaW5kPEcsIEE+PikgPT4gS2luZDxGLCBLaW5kPEcsIEI+PlxuZXhwb3J0IGZ1bmN0aW9uIG1hcDxGLCBHIGV4dGVuZHMgVVJJUzI+KFxuICBGOiBGdW5jdG9yPEY+LFxuICBHOiBGdW5jdG9yMjxHPlxuKTogPEEsIEI+KGY6IChhOiBBKSA9PiBCKSA9PiA8RT4oZmE6IEhLVDxGLCBLaW5kMjxHLCBFLCBBPj4pID0+IEhLVDxGLCBLaW5kMjxHLCBFLCBCPj5cbmV4cG9ydCBmdW5jdGlvbiBtYXA8RiwgRyBleHRlbmRzIFVSSVM+KFxuICBGOiBGdW5jdG9yPEY+LFxuICBHOiBGdW5jdG9yMTxHPlxuKTogPEEsIEI+KGY6IChhOiBBKSA9PiBCKSA9PiAoZmE6IEhLVDxGLCBLaW5kPEcsIEE+PikgPT4gSEtUPEYsIEtpbmQ8RywgQj4+XG5leHBvcnQgZnVuY3Rpb24gbWFwPEYsIEc+KFxuICBGOiBGdW5jdG9yPEY+LFxuICBHOiBGdW5jdG9yPEc+XG4pOiA8QSwgQj4oZjogKGE6IEEpID0+IEIpID0+IChmYTogSEtUPEYsIEhLVDxHLCBBPj4pID0+IEhLVDxGLCBIS1Q8RywgQj4+XG5leHBvcnQgZnVuY3Rpb24gbWFwPEYsIEc+KFxuICBGOiBGdW5jdG9yPEY+LFxuICBHOiBGdW5jdG9yPEc+XG4pOiA8QSwgQj4oZjogKGE6IEEpID0+IEIpID0+IChmYTogSEtUPEYsIEhLVDxHLCBBPj4pID0+IEhLVDxGLCBIS1Q8RywgQj4+IHtcbiAgcmV0dXJuIChmKSA9PiAoZmEpID0+IEYubWFwKGZhLCAoZ2EpID0+IEcubWFwKGdhLCBmKSlcbn1cblxuLyoqXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqIEBzaW5jZSAyLjEwLjBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsYXA8RiBleHRlbmRzIFVSSVM0PihcbiAgRjogRnVuY3RvcjQ8Rj5cbik6IDxBPihhOiBBKSA9PiA8UywgUiwgRSwgQj4oZmFiOiBLaW5kNDxGLCBTLCBSLCBFLCAoYTogQSkgPT4gQj4pID0+IEtpbmQ0PEYsIFMsIFIsIEUsIEI+XG5leHBvcnQgZnVuY3Rpb24gZmxhcDxGIGV4dGVuZHMgVVJJUzM+KFxuICBGOiBGdW5jdG9yMzxGPlxuKTogPEE+KGE6IEEpID0+IDxSLCBFLCBCPihmYWI6IEtpbmQzPEYsIFIsIEUsIChhOiBBKSA9PiBCPikgPT4gS2luZDM8RiwgUiwgRSwgQj5cbmV4cG9ydCBmdW5jdGlvbiBmbGFwPEYgZXh0ZW5kcyBVUklTMj4oXG4gIEY6IEZ1bmN0b3IyPEY+XG4pOiA8QT4oYTogQSkgPT4gPEUsIEI+KGZhYjogS2luZDI8RiwgRSwgKGE6IEEpID0+IEI+KSA9PiBLaW5kMjxGLCBFLCBCPlxuZXhwb3J0IGZ1bmN0aW9uIGZsYXA8RiBleHRlbmRzIFVSSVM+KEY6IEZ1bmN0b3IxPEY+KTogPEE+KGE6IEEpID0+IDxCPihmYWI6IEtpbmQ8RiwgKGE6IEEpID0+IEI+KSA9PiBLaW5kPEYsIEI+XG5leHBvcnQgZnVuY3Rpb24gZmxhcDxGPihGOiBGdW5jdG9yPEY+KTogPEE+KGE6IEEpID0+IDxCPihmYWI6IEhLVDxGLCAoYTogQSkgPT4gQj4pID0+IEhLVDxGLCBCPlxuZXhwb3J0IGZ1bmN0aW9uIGZsYXA8Rj4oRjogRnVuY3RvcjxGPik6IDxBPihhOiBBKSA9PiA8Qj4oZmFiOiBIS1Q8RiwgKGE6IEEpID0+IEI+KSA9PiBIS1Q8RiwgQj4ge1xuICByZXR1cm4gKGEpID0+IChmYWIpID0+IEYubWFwKGZhYiwgKGYpID0+IGYoYSkpXG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHV0aWxzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8qKlxuICogQHNpbmNlIDIuMTAuMFxuICovXG5leHBvcnQgZnVuY3Rpb24gYmluZFRvPEYgZXh0ZW5kcyBVUklTND4oXG4gIEY6IEZ1bmN0b3I0PEY+XG4pOiA8TiBleHRlbmRzIHN0cmluZz4obmFtZTogTikgPT4gPFMsIFIsIEUsIEE+KGZhOiBLaW5kNDxGLCBTLCBSLCBFLCBBPikgPT4gS2luZDQ8RiwgUywgUiwgRSwgeyByZWFkb25seSBbSyBpbiBOXTogQSB9PlxuZXhwb3J0IGZ1bmN0aW9uIGJpbmRUbzxGIGV4dGVuZHMgVVJJUzM+KFxuICBGOiBGdW5jdG9yMzxGPlxuKTogPE4gZXh0ZW5kcyBzdHJpbmc+KG5hbWU6IE4pID0+IDxSLCBFLCBBPihmYTogS2luZDM8RiwgUiwgRSwgQT4pID0+IEtpbmQzPEYsIFIsIEUsIHsgcmVhZG9ubHkgW0sgaW4gTl06IEEgfT5cbmV4cG9ydCBmdW5jdGlvbiBiaW5kVG88RiBleHRlbmRzIFVSSVMzLCBFPihcbiAgRjogRnVuY3RvcjNDPEYsIEU+XG4pOiA8TiBleHRlbmRzIHN0cmluZz4obmFtZTogTikgPT4gPFIsIEE+KGZhOiBLaW5kMzxGLCBSLCBFLCBBPikgPT4gS2luZDM8RiwgUiwgRSwgeyByZWFkb25seSBbSyBpbiBOXTogQSB9PlxuZXhwb3J0IGZ1bmN0aW9uIGJpbmRUbzxGIGV4dGVuZHMgVVJJUzI+KFxuICBGOiBGdW5jdG9yMjxGPlxuKTogPE4gZXh0ZW5kcyBzdHJpbmc+KG5hbWU6IE4pID0+IDxFLCBBPihmYTogS2luZDI8RiwgRSwgQT4pID0+IEtpbmQyPEYsIEUsIHsgcmVhZG9ubHkgW0sgaW4gTl06IEEgfT5cbmV4cG9ydCBmdW5jdGlvbiBiaW5kVG88RiBleHRlbmRzIFVSSVMyLCBFPihcbiAgRjogRnVuY3RvcjJDPEYsIEU+XG4pOiA8TiBleHRlbmRzIHN0cmluZz4obmFtZTogTikgPT4gPEE+KGZhOiBLaW5kMjxGLCBFLCBBPikgPT4gS2luZDI8RiwgRSwgeyByZWFkb25seSBbSyBpbiBOXTogQSB9PlxuZXhwb3J0IGZ1bmN0aW9uIGJpbmRUbzxGIGV4dGVuZHMgVVJJUz4oXG4gIEY6IEZ1bmN0b3IxPEY+XG4pOiA8TiBleHRlbmRzIHN0cmluZz4obmFtZTogTikgPT4gPEE+KGZhOiBLaW5kPEYsIEE+KSA9PiBLaW5kPEYsIHsgcmVhZG9ubHkgW0sgaW4gTl06IEEgfT5cbmV4cG9ydCBmdW5jdGlvbiBiaW5kVG88Rj4oXG4gIEY6IEZ1bmN0b3I8Rj5cbik6IDxOIGV4dGVuZHMgc3RyaW5nPihuYW1lOiBOKSA9PiA8QT4oZmE6IEhLVDxGLCBBPikgPT4gSEtUPEYsIHsgcmVhZG9ubHkgW0sgaW4gTl06IEEgfT5cbmV4cG9ydCBmdW5jdGlvbiBiaW5kVG88Rj4oXG4gIEY6IEZ1bmN0b3I8Rj5cbik6IDxOIGV4dGVuZHMgc3RyaW5nPihuYW1lOiBOKSA9PiA8QT4oZmE6IEhLVDxGLCBBPikgPT4gSEtUPEYsIHsgcmVhZG9ubHkgW0sgaW4gTl06IEEgfT4ge1xuICByZXR1cm4gKG5hbWUpID0+IChmYSkgPT4gRi5tYXAoZmEsIChhKSA9PiAoeyBbbmFtZV06IGEgfSBhcyBhbnkpKVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBkZXByZWNhdGVkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8vIHRzbGludDpkaXNhYmxlOiBkZXByZWNhdGlvblxuXG4vKipcbiAqIEBzaW5jZSAyLjAuMFxuICogQGRlcHJlY2F0ZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBGdW5jdG9yQ29tcG9zaXRpb248RiwgRz4ge1xuICByZWFkb25seSBtYXA6IDxBLCBCPihmYTogSEtUPEYsIEhLVDxHLCBBPj4sIGY6IChhOiBBKSA9PiBCKSA9PiBIS1Q8RiwgSEtUPEcsIEI+PlxufVxuXG4vKipcbiAqIEBzaW5jZSAyLjAuMFxuICogQGRlcHJlY2F0ZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBGdW5jdG9yQ29tcG9zaXRpb25IS1QxPEYsIEcgZXh0ZW5kcyBVUklTPiB7XG4gIHJlYWRvbmx5IG1hcDogPEEsIEI+KGZhOiBIS1Q8RiwgS2luZDxHLCBBPj4sIGY6IChhOiBBKSA9PiBCKSA9PiBIS1Q8RiwgS2luZDxHLCBCPj5cbn1cblxuLyoqXG4gKiBAc2luY2UgMi4wLjBcbiAqIEBkZXByZWNhdGVkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRnVuY3RvckNvbXBvc2l0aW9uSEtUMjxGLCBHIGV4dGVuZHMgVVJJUzI+IHtcbiAgcmVhZG9ubHkgbWFwOiA8RSwgQSwgQj4oZmE6IEhLVDxGLCBLaW5kMjxHLCBFLCBBPj4sIGY6IChhOiBBKSA9PiBCKSA9PiBIS1Q8RiwgS2luZDI8RywgRSwgQj4+XG59XG5cbi8qKlxuICogQHNpbmNlIDIuMC4wXG4gKiBAZGVwcmVjYXRlZFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEZ1bmN0b3JDb21wb3NpdGlvbkhLVDJDPEYsIEcgZXh0ZW5kcyBVUklTMiwgRT4ge1xuICByZWFkb25seSBtYXA6IDxBLCBCPihmYTogSEtUPEYsIEtpbmQyPEcsIEUsIEE+PiwgZjogKGE6IEEpID0+IEIpID0+IEhLVDxGLCBLaW5kMjxHLCBFLCBCPj5cbn1cblxuLyoqXG4gKiBAc2luY2UgMi4wLjBcbiAqIEBkZXByZWNhdGVkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRnVuY3RvckNvbXBvc2l0aW9uMTE8RiBleHRlbmRzIFVSSVMsIEcgZXh0ZW5kcyBVUklTPiB7XG4gIHJlYWRvbmx5IG1hcDogPEEsIEI+KGZhOiBLaW5kPEYsIEtpbmQ8RywgQT4+LCBmOiAoYTogQSkgPT4gQikgPT4gS2luZDxGLCBLaW5kPEcsIEI+PlxufVxuXG4vKipcbiAqIEBzaW5jZSAyLjAuMFxuICogQGRlcHJlY2F0ZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBGdW5jdG9yQ29tcG9zaXRpb24xMjxGIGV4dGVuZHMgVVJJUywgRyBleHRlbmRzIFVSSVMyPiB7XG4gIHJlYWRvbmx5IG1hcDogPEUsIEEsIEI+KGZhOiBLaW5kPEYsIEtpbmQyPEcsIEUsIEE+PiwgZjogKGE6IEEpID0+IEIpID0+IEtpbmQ8RiwgS2luZDI8RywgRSwgQj4+XG59XG5cbi8qKlxuICogQHNpbmNlIDIuMC4wXG4gKiBAZGVwcmVjYXRlZFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEZ1bmN0b3JDb21wb3NpdGlvbjEyQzxGIGV4dGVuZHMgVVJJUywgRyBleHRlbmRzIFVSSVMyLCBFPiB7XG4gIHJlYWRvbmx5IG1hcDogPEEsIEI+KGZhOiBLaW5kPEYsIEtpbmQyPEcsIEUsIEE+PiwgZjogKGE6IEEpID0+IEIpID0+IEtpbmQ8RiwgS2luZDI8RywgRSwgQj4+XG59XG5cbi8qKlxuICogQHNpbmNlIDIuMC4wXG4gKiBAZGVwcmVjYXRlZFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEZ1bmN0b3JDb21wb3NpdGlvbjIxPEYgZXh0ZW5kcyBVUklTMiwgRyBleHRlbmRzIFVSSVM+IHtcbiAgcmVhZG9ubHkgbWFwOiA8RSwgQSwgQj4oZmE6IEtpbmQyPEYsIEUsIEtpbmQ8RywgQT4+LCBmOiAoYTogQSkgPT4gQikgPT4gS2luZDI8RiwgRSwgS2luZDxHLCBCPj5cbn1cblxuLyoqXG4gKiBAc2luY2UgMi4wLjBcbiAqIEBkZXByZWNhdGVkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRnVuY3RvckNvbXBvc2l0aW9uMkMxPEYgZXh0ZW5kcyBVUklTMiwgRyBleHRlbmRzIFVSSVMsIEU+IHtcbiAgcmVhZG9ubHkgbWFwOiA8QSwgQj4oZmE6IEtpbmQyPEYsIEUsIEtpbmQ8RywgQT4+LCBmOiAoYTogQSkgPT4gQikgPT4gS2luZDI8RiwgRSwgS2luZDxHLCBCPj5cbn1cblxuLyoqXG4gKiBAc2luY2UgMi4wLjBcbiAqIEBkZXByZWNhdGVkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRnVuY3RvckNvbXBvc2l0aW9uMjI8RiBleHRlbmRzIFVSSVMyLCBHIGV4dGVuZHMgVVJJUzI+IHtcbiAgcmVhZG9ubHkgbWFwOiA8RkUsIEdFLCBBLCBCPihmYTogS2luZDI8RiwgRkUsIEtpbmQyPEcsIEdFLCBBPj4sIGY6IChhOiBBKSA9PiBCKSA9PiBLaW5kMjxGLCBGRSwgS2luZDI8RywgR0UsIEI+PlxufVxuXG4vKipcbiAqIEBzaW5jZSAyLjAuMFxuICogQGRlcHJlY2F0ZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBGdW5jdG9yQ29tcG9zaXRpb24yMkM8RiBleHRlbmRzIFVSSVMyLCBHIGV4dGVuZHMgVVJJUzIsIEU+IHtcbiAgcmVhZG9ubHkgbWFwOiA8RkUsIEEsIEI+KGZhOiBLaW5kMjxGLCBGRSwgS2luZDI8RywgRSwgQT4+LCBmOiAoYTogQSkgPT4gQikgPT4gS2luZDI8RiwgRkUsIEtpbmQyPEcsIEUsIEI+PlxufVxuXG4vKipcbiAqIEBzaW5jZSAyLjIuMFxuICogQGRlcHJlY2F0ZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBGdW5jdG9yQ29tcG9zaXRpb24yMzxGIGV4dGVuZHMgVVJJUzIsIEcgZXh0ZW5kcyBVUklTMz4ge1xuICByZWFkb25seSBtYXA6IDxGRSwgUiwgRSwgQSwgQj4oZmE6IEtpbmQyPEYsIEZFLCBLaW5kMzxHLCBSLCBFLCBBPj4sIGY6IChhOiBBKSA9PiBCKSA9PiBLaW5kMjxGLCBGRSwgS2luZDM8RywgUiwgRSwgQj4+XG59XG5cbi8qKlxuICogQHNpbmNlIDIuMi4wXG4gKiBAZGVwcmVjYXRlZFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEZ1bmN0b3JDb21wb3NpdGlvbjIzQzxGIGV4dGVuZHMgVVJJUzIsIEcgZXh0ZW5kcyBVUklTMywgRT4ge1xuICByZWFkb25seSBtYXA6IDxGRSwgUiwgQSwgQj4oZmE6IEtpbmQyPEYsIEZFLCBLaW5kMzxHLCBSLCBFLCBBPj4sIGY6IChhOiBBKSA9PiBCKSA9PiBLaW5kMjxGLCBGRSwgS2luZDM8RywgUiwgRSwgQj4+XG59XG5cbi8qKlxuICogVXNlIFtgbWFwYF0oI21hcCkgaW5zdGVhZC5cbiAqXG4gKiBAc2luY2UgMi4wLjBcbiAqIEBkZXByZWNhdGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRGdW5jdG9yQ29tcG9zaXRpb248RiBleHRlbmRzIFVSSVMyLCBHIGV4dGVuZHMgVVJJUzMsIEU+KFxuICBGOiBGdW5jdG9yMjxGPixcbiAgRzogRnVuY3RvcjNDPEcsIEU+XG4pOiBGdW5jdG9yQ29tcG9zaXRpb24yM0M8RiwgRywgRT5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZ1bmN0b3JDb21wb3NpdGlvbjxGIGV4dGVuZHMgVVJJUzIsIEcgZXh0ZW5kcyBVUklTMiwgRT4oXG4gIEY6IEZ1bmN0b3IyPEY+LFxuICBHOiBGdW5jdG9yMkM8RywgRT5cbik6IEZ1bmN0b3JDb21wb3NpdGlvbjIyQzxGLCBHLCBFPlxuLyoqIEBkZXByZWNhdGVkICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RnVuY3RvckNvbXBvc2l0aW9uPEYgZXh0ZW5kcyBVUklTMiwgRyBleHRlbmRzIFVSSVMyPihcbiAgRjogRnVuY3RvcjI8Rj4sXG4gIEc6IEZ1bmN0b3IyPEc+XG4pOiBGdW5jdG9yQ29tcG9zaXRpb24yMjxGLCBHPlxuLyoqIEBkZXByZWNhdGVkICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RnVuY3RvckNvbXBvc2l0aW9uPEYgZXh0ZW5kcyBVUklTMiwgRyBleHRlbmRzIFVSSVMsIEU+KFxuICBGOiBGdW5jdG9yMkM8RiwgRT4sXG4gIEc6IEZ1bmN0b3IxPEc+XG4pOiBGdW5jdG9yQ29tcG9zaXRpb24yQzE8RiwgRywgRT5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZ1bmN0b3JDb21wb3NpdGlvbjxGIGV4dGVuZHMgVVJJUzIsIEcgZXh0ZW5kcyBVUklTPihcbiAgRjogRnVuY3RvcjI8Rj4sXG4gIEc6IEZ1bmN0b3IxPEc+XG4pOiBGdW5jdG9yQ29tcG9zaXRpb24yMTxGLCBHPlxuLyoqIEBkZXByZWNhdGVkICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RnVuY3RvckNvbXBvc2l0aW9uPEYgZXh0ZW5kcyBVUklTLCBHIGV4dGVuZHMgVVJJUzIsIEU+KFxuICBGOiBGdW5jdG9yMTxGPixcbiAgRzogRnVuY3RvcjJDPEcsIEU+XG4pOiBGdW5jdG9yQ29tcG9zaXRpb24xMkM8RiwgRywgRT5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZ1bmN0b3JDb21wb3NpdGlvbjxGIGV4dGVuZHMgVVJJUywgRyBleHRlbmRzIFVSSVMyPihcbiAgRjogRnVuY3RvcjE8Rj4sXG4gIEc6IEZ1bmN0b3IyPEc+XG4pOiBGdW5jdG9yQ29tcG9zaXRpb24xMjxGLCBHPlxuLyoqIEBkZXByZWNhdGVkICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RnVuY3RvckNvbXBvc2l0aW9uPEYgZXh0ZW5kcyBVUklTLCBHIGV4dGVuZHMgVVJJUz4oXG4gIEY6IEZ1bmN0b3IxPEY+LFxuICBHOiBGdW5jdG9yMTxHPlxuKTogRnVuY3RvckNvbXBvc2l0aW9uMTE8RiwgRz5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZ1bmN0b3JDb21wb3NpdGlvbjxGLCBHPihGOiBGdW5jdG9yPEY+LCBHOiBGdW5jdG9yPEc+KTogRnVuY3RvckNvbXBvc2l0aW9uPEYsIEc+XG4vKiogQGRlcHJlY2F0ZWQgKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRGdW5jdG9yQ29tcG9zaXRpb248RiwgRz4oRjogRnVuY3RvcjxGPiwgRzogRnVuY3RvcjxHPik6IEZ1bmN0b3JDb21wb3NpdGlvbjxGLCBHPiB7XG4gIGNvbnN0IF9tYXAgPSBtYXAoRiwgRylcbiAgcmV0dXJuIHtcbiAgICBtYXA6IChmZ2EsIGYpID0+IHBpcGUoZmdhLCBfbWFwKGYpKVxuICB9XG59XG4iXX0=