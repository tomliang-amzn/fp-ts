"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.duplicate = exports.URI = exports.Functor = exports.Comonad = void 0;
exports.experiment = experiment;
exports.map = exports.flap = exports.extract = exports.extend = void 0;
exports.peeks = peeks;
exports.seek = seek;
exports.seeks = seeks;
exports.store = void 0;

var _function = require("./function");

var _Functor = require("./Functor");

/**
 * @since 2.0.0
 */

/**
 * Reposition the focus at the specified position
 *
 * @since 2.0.0
 */
function seek(s) {
  return function (wa) {
    return {
      peek: wa.peek,
      pos: s
    };
  };
}
/**
 * Reposition the focus at the specified position, which depends on the current position
 *
 * @since 2.0.0
 */


function seeks(f) {
  return function (wa) {
    return {
      peek: wa.peek,
      pos: f(wa.pos)
    };
  };
}
/**
 * Extract a value from a position which depends on the current position
 *
 * @since 2.0.0
 */


function peeks(f) {
  return function (wa) {
    return wa.peek(f(wa.pos));
  };
}
/**
 * Extract a collection of values from positions which depend on the current position
 *
 * @since 2.0.0
 */


function experiment(F) {
  return function (f) {
    return function (wa) {
      return F.map(f(wa.pos), function (s) {
        return wa.peek(s);
      });
    };
  };
} // -------------------------------------------------------------------------------------
// non-pipeables
// -------------------------------------------------------------------------------------

/* istanbul ignore next */


var _map = function _map(fa, f) {
  return (0, _function.pipe)(fa, map(f));
};
/* istanbul ignore next */


var _extend = function _extend(wa, f) {
  return (0, _function.pipe)(wa, extend(f));
}; // -------------------------------------------------------------------------------------
// type class members
// -------------------------------------------------------------------------------------

/**
 * @category Extend
 * @since 2.0.0
 */


var extend = function extend(f) {
  return function (wa) {
    return {
      peek: function peek(s) {
        return f({
          peek: wa.peek,
          pos: s
        });
      },
      pos: wa.pos
    };
  };
};
/**
 * @category Extract
 * @since 2.6.2
 */


exports.extend = extend;

var extract = function extract(wa) {
  return wa.peek(wa.pos);
};
/**
 * Derivable from `Extend`.
 *
 * @category combinators
 * @since 2.0.0
 */


exports.extract = extract;
var duplicate = /*#__PURE__*/extend(_function.identity);
/**
 * `map` can be used to turn functions `(a: A) => B` into functions `(fa: F<A>) => F<B>` whose argument and return types
 * use the type constructor `F` to represent some computational context.
 *
 * @category Functor
 * @since 2.0.0
 */

exports.duplicate = duplicate;

var map = function map(f) {
  return function (fa) {
    return {
      peek: function peek(s) {
        return f(fa.peek(s));
      },
      pos: fa.pos
    };
  };
}; // -------------------------------------------------------------------------------------
// instances
// -------------------------------------------------------------------------------------

/**
 * @category instances
 * @since 2.0.0
 */


exports.map = map;
var URI = 'Store';
/**
 * @category instances
 * @since 2.0.0
 */

exports.URI = URI;

/**
 * @category instances
 * @since 2.7.0
 */
var Functor = {
  URI: URI,
  map: _map
};
/**
 * Derivable from `Functor`.
 *
 * @category combinators
 * @since 2.10.0
 */

exports.Functor = Functor;
var flap = /*#__PURE__*/(0, _Functor.flap)(Functor);
/**
 * @category instances
 * @since 2.7.0
 */

exports.flap = flap;
var Comonad = {
  URI: URI,
  map: _map,
  extend: _extend,
  extract: extract
}; // -------------------------------------------------------------------------------------
// deprecated
// -------------------------------------------------------------------------------------

/**
 * Use small, specific instances instead.
 *
 * @category instances
 * @since 2.0.0
 * @deprecated
 */

exports.Comonad = Comonad;
var store = Comonad;
exports.store = store;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9mcC10cy9TdG9yZS50cyJdLCJuYW1lcyI6WyJzZWVrIiwicyIsIndhIiwicGVlayIsInBvcyIsInNlZWtzIiwiZiIsInBlZWtzIiwiZXhwZXJpbWVudCIsIkYiLCJtYXAiLCJfbWFwIiwiZmEiLCJfZXh0ZW5kIiwiZXh0ZW5kIiwiZXh0cmFjdCIsImR1cGxpY2F0ZSIsImlkZW50aXR5IiwiVVJJIiwiRnVuY3RvciIsImZsYXAiLCJDb21vbmFkIiwic3RvcmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFNQTs7QUFDQTs7QUFQQTtBQUNBO0FBQ0E7O0FBcUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxTQUFTQSxJQUFULENBQWlCQyxDQUFqQixFQUE0RDtBQUNqRSxTQUFPLFVBQUNDLEVBQUQ7QUFBQSxXQUFTO0FBQUVDLE1BQUFBLElBQUksRUFBRUQsRUFBRSxDQUFDQyxJQUFYO0FBQWlCQyxNQUFBQSxHQUFHLEVBQUVIO0FBQXRCLEtBQVQ7QUFBQSxHQUFQO0FBQ0Q7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDTyxTQUFTSSxLQUFULENBQWtCQyxDQUFsQixFQUEyRTtBQUNoRixTQUFPLFVBQUNKLEVBQUQ7QUFBQSxXQUFTO0FBQUVDLE1BQUFBLElBQUksRUFBRUQsRUFBRSxDQUFDQyxJQUFYO0FBQWlCQyxNQUFBQSxHQUFHLEVBQUVFLENBQUMsQ0FBQ0osRUFBRSxDQUFDRSxHQUFKO0FBQXZCLEtBQVQ7QUFBQSxHQUFQO0FBQ0Q7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDTyxTQUFTRyxLQUFULENBQWtCRCxDQUFsQixFQUFpRTtBQUN0RSxTQUFPLFVBQUNKLEVBQUQ7QUFBQSxXQUFRQSxFQUFFLENBQUNDLElBQUgsQ0FBUUcsQ0FBQyxDQUFDSixFQUFFLENBQUNFLEdBQUosQ0FBVCxDQUFSO0FBQUEsR0FBUDtBQUNEO0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBaUJPLFNBQVNJLFVBQVQsQ0FB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDTyxJQUFNTyxLQUFvQixHQUFHRCxPQUE3QiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHNpbmNlIDIuMC4wXG4gKi9cbmltcG9ydCB7IENvbW9uYWQyIH0gZnJvbSAnLi9Db21vbmFkJ1xuaW1wb3J0IHsgRW5kb21vcnBoaXNtIH0gZnJvbSAnLi9FbmRvbW9ycGhpc20nXG5pbXBvcnQgeyBFeHRlbmQyIH0gZnJvbSAnLi9FeHRlbmQnXG5pbXBvcnQgeyBpZGVudGl0eSwgcGlwZSB9IGZyb20gJy4vZnVuY3Rpb24nXG5pbXBvcnQgeyBmbGFwIGFzIGZsYXBfLCBGdW5jdG9yIGFzIEZ1bmN0b3JIS1QsIEZ1bmN0b3IxLCBGdW5jdG9yMiwgRnVuY3RvcjJDLCBGdW5jdG9yMywgRnVuY3RvcjNDIH0gZnJvbSAnLi9GdW5jdG9yJ1xuaW1wb3J0IHsgSEtULCBLaW5kLCBLaW5kMiwgS2luZDMsIFVSSVMsIFVSSVMyLCBVUklTMyB9IGZyb20gJy4vSEtUJ1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBtb2RlbFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vKipcbiAqIEBjYXRlZ29yeSBtb2RlbFxuICogQHNpbmNlIDIuMC4wXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcmU8UywgQT4ge1xuICByZWFkb25seSBwZWVrOiAoczogUykgPT4gQVxuICByZWFkb25seSBwb3M6IFNcbn1cblxuLyoqXG4gKiBSZXBvc2l0aW9uIHRoZSBmb2N1cyBhdCB0aGUgc3BlY2lmaWVkIHBvc2l0aW9uXG4gKlxuICogQHNpbmNlIDIuMC4wXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWVrPFM+KHM6IFMpOiA8QT4od2E6IFN0b3JlPFMsIEE+KSA9PiBTdG9yZTxTLCBBPiB7XG4gIHJldHVybiAod2EpID0+ICh7IHBlZWs6IHdhLnBlZWssIHBvczogcyB9KVxufVxuXG4vKipcbiAqIFJlcG9zaXRpb24gdGhlIGZvY3VzIGF0IHRoZSBzcGVjaWZpZWQgcG9zaXRpb24sIHdoaWNoIGRlcGVuZHMgb24gdGhlIGN1cnJlbnQgcG9zaXRpb25cbiAqXG4gKiBAc2luY2UgMi4wLjBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlZWtzPFM+KGY6IEVuZG9tb3JwaGlzbTxTPik6IDxBPih3YTogU3RvcmU8UywgQT4pID0+IFN0b3JlPFMsIEE+IHtcbiAgcmV0dXJuICh3YSkgPT4gKHsgcGVlazogd2EucGVlaywgcG9zOiBmKHdhLnBvcykgfSlcbn1cblxuLyoqXG4gKiBFeHRyYWN0IGEgdmFsdWUgZnJvbSBhIHBvc2l0aW9uIHdoaWNoIGRlcGVuZHMgb24gdGhlIGN1cnJlbnQgcG9zaXRpb25cbiAqXG4gKiBAc2luY2UgMi4wLjBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBlZWtzPFM+KGY6IEVuZG9tb3JwaGlzbTxTPik6IDxBPih3YTogU3RvcmU8UywgQT4pID0+IEEge1xuICByZXR1cm4gKHdhKSA9PiB3YS5wZWVrKGYod2EucG9zKSlcbn1cblxuLyoqXG4gKiBFeHRyYWN0IGEgY29sbGVjdGlvbiBvZiB2YWx1ZXMgZnJvbSBwb3NpdGlvbnMgd2hpY2ggZGVwZW5kIG9uIHRoZSBjdXJyZW50IHBvc2l0aW9uXG4gKlxuICogQHNpbmNlIDIuMC4wXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHBlcmltZW50PEYgZXh0ZW5kcyBVUklTMz4oXG4gIEY6IEZ1bmN0b3IzPEY+XG4pOiA8UiwgRSwgUz4oZjogKHM6IFMpID0+IEtpbmQzPEYsIFIsIEUsIFM+KSA9PiA8QT4od2E6IFN0b3JlPFMsIEE+KSA9PiBLaW5kMzxGLCBSLCBFLCBBPlxuZXhwb3J0IGZ1bmN0aW9uIGV4cGVyaW1lbnQ8RiBleHRlbmRzIFVSSVMzLCBFPihcbiAgRjogRnVuY3RvcjNDPEYsIEU+XG4pOiA8UiwgUz4oZjogKHM6IFMpID0+IEtpbmQzPEYsIFIsIEUsIFM+KSA9PiA8QT4od2E6IFN0b3JlPFMsIEE+KSA9PiBLaW5kMzxGLCBSLCBFLCBBPlxuZXhwb3J0IGZ1bmN0aW9uIGV4cGVyaW1lbnQ8RiBleHRlbmRzIFVSSVMyPihcbiAgRjogRnVuY3RvcjI8Rj5cbik6IDxFLCBTPihmOiAoczogUykgPT4gS2luZDI8RiwgRSwgUz4pID0+IDxBPih3YTogU3RvcmU8UywgQT4pID0+IEtpbmQyPEYsIEUsIEE+XG5leHBvcnQgZnVuY3Rpb24gZXhwZXJpbWVudDxGIGV4dGVuZHMgVVJJUzIsIEU+KFxuICBGOiBGdW5jdG9yMkM8RiwgRT5cbik6IDxTPihmOiAoczogUykgPT4gS2luZDI8RiwgRSwgUz4pID0+IDxBPih3YTogU3RvcmU8UywgQT4pID0+IEtpbmQyPEYsIEUsIEE+XG5leHBvcnQgZnVuY3Rpb24gZXhwZXJpbWVudDxGIGV4dGVuZHMgVVJJUz4oXG4gIEY6IEZ1bmN0b3IxPEY+XG4pOiA8Uz4oZjogKHM6IFMpID0+IEtpbmQ8RiwgUz4pID0+IDxBPih3YTogU3RvcmU8UywgQT4pID0+IEtpbmQ8RiwgQT5cbmV4cG9ydCBmdW5jdGlvbiBleHBlcmltZW50PEY+KEY6IEZ1bmN0b3JIS1Q8Rj4pOiA8Uz4oZjogKHM6IFMpID0+IEhLVDxGLCBTPikgPT4gPEE+KHdhOiBTdG9yZTxTLCBBPikgPT4gSEtUPEYsIEE+XG5leHBvcnQgZnVuY3Rpb24gZXhwZXJpbWVudDxGPihGOiBGdW5jdG9ySEtUPEY+KTogPFM+KGY6IChzOiBTKSA9PiBIS1Q8RiwgUz4pID0+IDxBPih3YTogU3RvcmU8UywgQT4pID0+IEhLVDxGLCBBPiB7XG4gIHJldHVybiAoZikgPT4gKHdhKSA9PiBGLm1hcChmKHdhLnBvcyksIChzKSA9PiB3YS5wZWVrKHMpKVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBub24tcGlwZWFibGVzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5jb25zdCBfbWFwOiBGdW5jdG9yMjxVUkk+WydtYXAnXSA9IChmYSwgZikgPT4gcGlwZShmYSwgbWFwKGYpKVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmNvbnN0IF9leHRlbmQ6IEV4dGVuZDI8VVJJPlsnZXh0ZW5kJ10gPSAod2EsIGYpID0+IHBpcGUod2EsIGV4dGVuZChmKSlcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gdHlwZSBjbGFzcyBtZW1iZXJzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8qKlxuICogQGNhdGVnb3J5IEV4dGVuZFxuICogQHNpbmNlIDIuMC4wXG4gKi9cbmV4cG9ydCBjb25zdCBleHRlbmQ6IDxFLCBBLCBCPihmOiAod2E6IFN0b3JlPEUsIEE+KSA9PiBCKSA9PiAod2E6IFN0b3JlPEUsIEE+KSA9PiBTdG9yZTxFLCBCPiA9IChmKSA9PiAod2EpID0+ICh7XG4gIHBlZWs6IChzKSA9PiBmKHsgcGVlazogd2EucGVlaywgcG9zOiBzIH0pLFxuICBwb3M6IHdhLnBvc1xufSlcblxuLyoqXG4gKiBAY2F0ZWdvcnkgRXh0cmFjdFxuICogQHNpbmNlIDIuNi4yXG4gKi9cbmV4cG9ydCBjb25zdCBleHRyYWN0OiA8RSwgQT4od2E6IFN0b3JlPEUsIEE+KSA9PiBBID0gKHdhKSA9PiB3YS5wZWVrKHdhLnBvcylcblxuLyoqXG4gKiBEZXJpdmFibGUgZnJvbSBgRXh0ZW5kYC5cbiAqXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqIEBzaW5jZSAyLjAuMFxuICovXG5leHBvcnQgY29uc3QgZHVwbGljYXRlOiA8RSwgQT4od2E6IFN0b3JlPEUsIEE+KSA9PiBTdG9yZTxFLCBTdG9yZTxFLCBBPj4gPVxuICAvKiNfX1BVUkVfXyovXG4gIGV4dGVuZChpZGVudGl0eSlcblxuLyoqXG4gKiBgbWFwYCBjYW4gYmUgdXNlZCB0byB0dXJuIGZ1bmN0aW9ucyBgKGE6IEEpID0+IEJgIGludG8gZnVuY3Rpb25zIGAoZmE6IEY8QT4pID0+IEY8Qj5gIHdob3NlIGFyZ3VtZW50IGFuZCByZXR1cm4gdHlwZXNcbiAqIHVzZSB0aGUgdHlwZSBjb25zdHJ1Y3RvciBgRmAgdG8gcmVwcmVzZW50IHNvbWUgY29tcHV0YXRpb25hbCBjb250ZXh0LlxuICpcbiAqIEBjYXRlZ29yeSBGdW5jdG9yXG4gKiBAc2luY2UgMi4wLjBcbiAqL1xuZXhwb3J0IGNvbnN0IG1hcDogPEEsIEI+KGY6IChhOiBBKSA9PiBCKSA9PiA8RT4oZmE6IFN0b3JlPEUsIEE+KSA9PiBTdG9yZTxFLCBCPiA9IChmKSA9PiAoZmEpID0+ICh7XG4gIHBlZWs6IChzKSA9PiBmKGZhLnBlZWsocykpLFxuICBwb3M6IGZhLnBvc1xufSlcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gaW5zdGFuY2VzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8qKlxuICogQGNhdGVnb3J5IGluc3RhbmNlc1xuICogQHNpbmNlIDIuMC4wXG4gKi9cbmV4cG9ydCBjb25zdCBVUkkgPSAnU3RvcmUnXG5cbi8qKlxuICogQGNhdGVnb3J5IGluc3RhbmNlc1xuICogQHNpbmNlIDIuMC4wXG4gKi9cbmV4cG9ydCB0eXBlIFVSSSA9IHR5cGVvZiBVUklcblxuZGVjbGFyZSBtb2R1bGUgJy4vSEtUJyB7XG4gIGludGVyZmFjZSBVUkl0b0tpbmQyPEUsIEE+IHtcbiAgICByZWFkb25seSBbVVJJXTogU3RvcmU8RSwgQT5cbiAgfVxufVxuXG4vKipcbiAqIEBjYXRlZ29yeSBpbnN0YW5jZXNcbiAqIEBzaW5jZSAyLjcuMFxuICovXG5leHBvcnQgY29uc3QgRnVuY3RvcjogRnVuY3RvcjI8VVJJPiA9IHtcbiAgVVJJLFxuICBtYXA6IF9tYXBcbn1cblxuLyoqXG4gKiBEZXJpdmFibGUgZnJvbSBgRnVuY3RvcmAuXG4gKlxuICogQGNhdGVnb3J5IGNvbWJpbmF0b3JzXG4gKiBAc2luY2UgMi4xMC4wXG4gKi9cbmV4cG9ydCBjb25zdCBmbGFwID1cbiAgLyojX19QVVJFX18qL1xuICBmbGFwXyhGdW5jdG9yKVxuXG4vKipcbiAqIEBjYXRlZ29yeSBpbnN0YW5jZXNcbiAqIEBzaW5jZSAyLjcuMFxuICovXG5leHBvcnQgY29uc3QgQ29tb25hZDogQ29tb25hZDI8VVJJPiA9IHtcbiAgVVJJLFxuICBtYXA6IF9tYXAsXG4gIGV4dGVuZDogX2V4dGVuZCxcbiAgZXh0cmFjdFxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBkZXByZWNhdGVkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8qKlxuICogVXNlIHNtYWxsLCBzcGVjaWZpYyBpbnN0YW5jZXMgaW5zdGVhZC5cbiAqXG4gKiBAY2F0ZWdvcnkgaW5zdGFuY2VzXG4gKiBAc2luY2UgMi4wLjBcbiAqIEBkZXByZWNhdGVkXG4gKi9cbmV4cG9ydCBjb25zdCBzdG9yZTogQ29tb25hZDI8VVJJPiA9IENvbW9uYWRcbiJdfQ==