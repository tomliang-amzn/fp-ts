"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.bind = bind;
exports.chainFirst = chainFirst;

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/**
 * The `Chain` type class extends the `Apply` type class with a `chain` operation which composes computations in
 * sequence, using the return value of one computation to determine the next computation.
 *
 * Instances must satisfy the following law in addition to the `Apply` laws:
 *
 * 1. Associativity: `F.chain(F.chain(fa, afb), bfc) <-> F.chain(fa, a => F.chain(afb(a), bfc))`
 *
 * Note. `Apply`'s `ap` can be derived: `(fab, fa) => F.chain(fab, f => F.map(fa, f))`
 *
 * @since 2.0.0
 */
// -------------------------------------------------------------------------------------
// model
// -------------------------------------------------------------------------------------

/**
 * @category type classes
 * @since 2.0.0
 */

/**
 * @category type classes
 * @since 2.0.0
 */

/**
 * @category type classes
 * @since 2.0.0
 */

/**
 * @category type classes
 * @since 2.0.0
 */

/**
 * @category type classes
 * @since 2.0.0
 */

/**
 * @category type classes
 * @since 2.2.0
 */

/**
 * @category type classes
 * @since 2.0.0
 */
// -------------------------------------------------------------------------------------
// combinators
// -------------------------------------------------------------------------------------

/**
 * @category combinators
 * @since 2.10.0
 */
function chainFirst(M) {
  return function (f) {
    return function (first) {
      return M.chain(first, function (a) {
        return M.map(f(a), function () {
          return a;
        });
      });
    };
  };
} // -------------------------------------------------------------------------------------
// utils
// -------------------------------------------------------------------------------------

/**
 * @since 2.10.0
 */


function bind(M) {
  return function (name, f) {
    return function (ma) {
      return M.chain(ma, function (a) {
        return M.map(f(a), function (b) {
          return Object.assign({}, a, _defineProperty({}, name, b));
        });
      });
    };
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9mcC10cy9DaGFpbi50cyJdLCJuYW1lcyI6WyJjaGFpbkZpcnN0IiwiTSIsImYiLCJmaXJzdCIsImNoYWluIiwiYSIsIm1hcCIsImJpbmQiLCJuYW1lIiwibWEiLCJiIiwiT2JqZWN0IiwiYXNzaWduIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUtBO0FBQ0E7QUFDQTtBQUNBOztBQUtBO0FBQ0E7QUFDQTtBQUNBOztBQUtBO0FBQ0E7QUFDQTtBQUNBOztBQUtBO0FBQ0E7QUFDQTtBQUNBOztBQUtBO0FBQ0E7QUFDQTtBQUNBOztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBb0JPLFNBQVNBLFVBQVQsQ0FBdUJDLENBQXZCLEVBQXVHO0FBQzVHLFNBQU8sVUFBQ0MsQ0FBRDtBQUFBLFdBQU8sVUFBQ0MsS0FBRDtBQUFBLGFBQVdGLENBQUMsQ0FBQ0csS0FBRixDQUFRRCxLQUFSLEVBQWUsVUFBQ0UsQ0FBRDtBQUFBLGVBQU9KLENBQUMsQ0FBQ0ssR0FBRixDQUFNSixDQUFDLENBQUNHLENBQUQsQ0FBUCxFQUFZO0FBQUEsaUJBQU1BLENBQU47QUFBQSxTQUFaLENBQVA7QUFBQSxPQUFmLENBQVg7QUFBQSxLQUFQO0FBQUEsR0FBUDtBQUNELEMsQ0FFRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUEyQ08sU0FBU0UsSUFBVCxDQUNMTixDQURLLEVBS3VGO0FBQzVGLFNBQU8sVUFBQ08sSUFBRCxFQUFPTixDQUFQO0FBQUEsV0FBYSxVQUFDTyxFQUFEO0FBQUEsYUFBUVIsQ0FBQyxDQUFDRyxLQUFGLENBQVFLLEVBQVIsRUFBWSxVQUFDSixDQUFEO0FBQUEsZUFBT0osQ0FBQyxDQUFDSyxHQUFGLENBQU1KLENBQUMsQ0FBQ0csQ0FBRCxDQUFQLEVBQVksVUFBQ0ssQ0FBRDtBQUFBLGlCQUFPQyxNQUFNLENBQUNDLE1BQVAsQ0FBYyxFQUFkLEVBQWtCUCxDQUFsQixzQkFBd0JHLElBQXhCLEVBQStCRSxDQUEvQixFQUFQO0FBQUEsU0FBWixDQUFQO0FBQUEsT0FBWixDQUFSO0FBQUEsS0FBYjtBQUFBLEdBQVA7QUFDRCIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhlIGBDaGFpbmAgdHlwZSBjbGFzcyBleHRlbmRzIHRoZSBgQXBwbHlgIHR5cGUgY2xhc3Mgd2l0aCBhIGBjaGFpbmAgb3BlcmF0aW9uIHdoaWNoIGNvbXBvc2VzIGNvbXB1dGF0aW9ucyBpblxuICogc2VxdWVuY2UsIHVzaW5nIHRoZSByZXR1cm4gdmFsdWUgb2Ygb25lIGNvbXB1dGF0aW9uIHRvIGRldGVybWluZSB0aGUgbmV4dCBjb21wdXRhdGlvbi5cbiAqXG4gKiBJbnN0YW5jZXMgbXVzdCBzYXRpc2Z5IHRoZSBmb2xsb3dpbmcgbGF3IGluIGFkZGl0aW9uIHRvIHRoZSBgQXBwbHlgIGxhd3M6XG4gKlxuICogMS4gQXNzb2NpYXRpdml0eTogYEYuY2hhaW4oRi5jaGFpbihmYSwgYWZiKSwgYmZjKSA8LT4gRi5jaGFpbihmYSwgYSA9PiBGLmNoYWluKGFmYihhKSwgYmZjKSlgXG4gKlxuICogTm90ZS4gYEFwcGx5YCdzIGBhcGAgY2FuIGJlIGRlcml2ZWQ6IGAoZmFiLCBmYSkgPT4gRi5jaGFpbihmYWIsIGYgPT4gRi5tYXAoZmEsIGYpKWBcbiAqXG4gKiBAc2luY2UgMi4wLjBcbiAqL1xuaW1wb3J0IHsgQXBwbHksIEFwcGx5MSwgQXBwbHkyLCBBcHBseTJDLCBBcHBseTMsIEFwcGx5NCwgQXBwbHkzQyB9IGZyb20gJy4vQXBwbHknXG5pbXBvcnQgeyBIS1QsIEtpbmQsIEtpbmQyLCBLaW5kMywgS2luZDQsIFVSSVMsIFVSSVMyLCBVUklTMywgVVJJUzQgfSBmcm9tICcuL0hLVCdcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gbW9kZWxcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLyoqXG4gKiBAY2F0ZWdvcnkgdHlwZSBjbGFzc2VzXG4gKiBAc2luY2UgMi4wLjBcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDaGFpbjxGPiBleHRlbmRzIEFwcGx5PEY+IHtcbiAgcmVhZG9ubHkgY2hhaW46IDxBLCBCPihmYTogSEtUPEYsIEE+LCBmOiAoYTogQSkgPT4gSEtUPEYsIEI+KSA9PiBIS1Q8RiwgQj5cbn1cblxuLyoqXG4gKiBAY2F0ZWdvcnkgdHlwZSBjbGFzc2VzXG4gKiBAc2luY2UgMi4wLjBcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDaGFpbjE8RiBleHRlbmRzIFVSSVM+IGV4dGVuZHMgQXBwbHkxPEY+IHtcbiAgcmVhZG9ubHkgY2hhaW46IDxBLCBCPihmYTogS2luZDxGLCBBPiwgZjogKGE6IEEpID0+IEtpbmQ8RiwgQj4pID0+IEtpbmQ8RiwgQj5cbn1cblxuLyoqXG4gKiBAY2F0ZWdvcnkgdHlwZSBjbGFzc2VzXG4gKiBAc2luY2UgMi4wLjBcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDaGFpbjI8RiBleHRlbmRzIFVSSVMyPiBleHRlbmRzIEFwcGx5MjxGPiB7XG4gIHJlYWRvbmx5IGNoYWluOiA8RSwgQSwgQj4oZmE6IEtpbmQyPEYsIEUsIEE+LCBmOiAoYTogQSkgPT4gS2luZDI8RiwgRSwgQj4pID0+IEtpbmQyPEYsIEUsIEI+XG59XG5cbi8qKlxuICogQGNhdGVnb3J5IHR5cGUgY2xhc3Nlc1xuICogQHNpbmNlIDIuMC4wXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhaW4yQzxGIGV4dGVuZHMgVVJJUzIsIEU+IGV4dGVuZHMgQXBwbHkyQzxGLCBFPiB7XG4gIHJlYWRvbmx5IGNoYWluOiA8QSwgQj4oZmE6IEtpbmQyPEYsIEUsIEE+LCBmOiAoYTogQSkgPT4gS2luZDI8RiwgRSwgQj4pID0+IEtpbmQyPEYsIEUsIEI+XG59XG5cbi8qKlxuICogQGNhdGVnb3J5IHR5cGUgY2xhc3Nlc1xuICogQHNpbmNlIDIuMC4wXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhaW4zPEYgZXh0ZW5kcyBVUklTMz4gZXh0ZW5kcyBBcHBseTM8Rj4ge1xuICByZWFkb25seSBjaGFpbjogPFIsIEUsIEEsIEI+KGZhOiBLaW5kMzxGLCBSLCBFLCBBPiwgZjogKGE6IEEpID0+IEtpbmQzPEYsIFIsIEUsIEI+KSA9PiBLaW5kMzxGLCBSLCBFLCBCPlxufVxuXG4vKipcbiAqIEBjYXRlZ29yeSB0eXBlIGNsYXNzZXNcbiAqIEBzaW5jZSAyLjIuMFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENoYWluM0M8RiBleHRlbmRzIFVSSVMzLCBFPiBleHRlbmRzIEFwcGx5M0M8RiwgRT4ge1xuICByZWFkb25seSBjaGFpbjogPFIsIEEsIEI+KGZhOiBLaW5kMzxGLCBSLCBFLCBBPiwgZjogKGE6IEEpID0+IEtpbmQzPEYsIFIsIEUsIEI+KSA9PiBLaW5kMzxGLCBSLCBFLCBCPlxufVxuXG4vKipcbiAqIEBjYXRlZ29yeSB0eXBlIGNsYXNzZXNcbiAqIEBzaW5jZSAyLjAuMFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENoYWluNDxGIGV4dGVuZHMgVVJJUzQ+IGV4dGVuZHMgQXBwbHk0PEY+IHtcbiAgcmVhZG9ubHkgY2hhaW46IDxTLCBSLCBFLCBBLCBCPihmYTogS2luZDQ8RiwgUywgUiwgRSwgQT4sIGY6IChhOiBBKSA9PiBLaW5kNDxGLCBTLCBSLCBFLCBCPikgPT4gS2luZDQ8RiwgUywgUiwgRSwgQj5cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gY29tYmluYXRvcnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLyoqXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqIEBzaW5jZSAyLjEwLjBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoYWluRmlyc3Q8TSBleHRlbmRzIFVSSVM0PihcbiAgTTogQ2hhaW40PE0+XG4pOiA8QSwgUywgUiwgRSwgQj4oZjogKGE6IEEpID0+IEtpbmQ0PE0sIFMsIFIsIEUsIEI+KSA9PiAoZmlyc3Q6IEtpbmQ0PE0sIFMsIFIsIEUsIEE+KSA9PiBLaW5kNDxNLCBTLCBSLCBFLCBBPlxuZXhwb3J0IGZ1bmN0aW9uIGNoYWluRmlyc3Q8TSBleHRlbmRzIFVSSVMzPihcbiAgTTogQ2hhaW4zPE0+XG4pOiA8QSwgUiwgRSwgQj4oZjogKGE6IEEpID0+IEtpbmQzPE0sIFIsIEUsIEI+KSA9PiAoZmlyc3Q6IEtpbmQzPE0sIFIsIEUsIEE+KSA9PiBLaW5kMzxNLCBSLCBFLCBBPlxuZXhwb3J0IGZ1bmN0aW9uIGNoYWluRmlyc3Q8TSBleHRlbmRzIFVSSVMzLCBFPihcbiAgTTogQ2hhaW4zQzxNLCBFPlxuKTogPEEsIFIsIEI+KGY6IChhOiBBKSA9PiBLaW5kMzxNLCBSLCBFLCBCPikgPT4gKGZpcnN0OiBLaW5kMzxNLCBSLCBFLCBBPikgPT4gS2luZDM8TSwgUiwgRSwgQT5cbmV4cG9ydCBmdW5jdGlvbiBjaGFpbkZpcnN0PE0gZXh0ZW5kcyBVUklTMj4oXG4gIE06IENoYWluMjxNPlxuKTogPEEsIEUsIEI+KGY6IChhOiBBKSA9PiBLaW5kMjxNLCBFLCBCPikgPT4gKGZpcnN0OiBLaW5kMjxNLCBFLCBBPikgPT4gS2luZDI8TSwgRSwgQT5cbmV4cG9ydCBmdW5jdGlvbiBjaGFpbkZpcnN0PE0gZXh0ZW5kcyBVUklTMiwgRT4oXG4gIE06IENoYWluMkM8TSwgRT5cbik6IDxBLCBCPihmOiAoYTogQSkgPT4gS2luZDI8TSwgRSwgQj4pID0+IChmaXJzdDogS2luZDI8TSwgRSwgQT4pID0+IEtpbmQyPE0sIEUsIEE+XG5leHBvcnQgZnVuY3Rpb24gY2hhaW5GaXJzdDxNIGV4dGVuZHMgVVJJUz4oXG4gIE06IENoYWluMTxNPlxuKTogPEEsIEI+KGY6IChhOiBBKSA9PiBLaW5kPE0sIEI+KSA9PiAoZmlyc3Q6IEtpbmQ8TSwgQT4pID0+IEtpbmQ8TSwgQT5cbmV4cG9ydCBmdW5jdGlvbiBjaGFpbkZpcnN0PE0+KE06IENoYWluPE0+KTogPEEsIEI+KGY6IChhOiBBKSA9PiBIS1Q8TSwgQj4pID0+IChmaXJzdDogSEtUPE0sIEE+KSA9PiBIS1Q8TSwgQT5cbmV4cG9ydCBmdW5jdGlvbiBjaGFpbkZpcnN0PE0+KE06IENoYWluPE0+KTogPEEsIEI+KGY6IChhOiBBKSA9PiBIS1Q8TSwgQj4pID0+IChmaXJzdDogSEtUPE0sIEE+KSA9PiBIS1Q8TSwgQT4ge1xuICByZXR1cm4gKGYpID0+IChmaXJzdCkgPT4gTS5jaGFpbihmaXJzdCwgKGEpID0+IE0ubWFwKGYoYSksICgpID0+IGEpKVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyB1dGlsc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vKipcbiAqIEBzaW5jZSAyLjEwLjBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmQ8TSBleHRlbmRzIFVSSVM0PihcbiAgTTogQ2hhaW40PE0+XG4pOiA8TiBleHRlbmRzIHN0cmluZywgQSwgUywgUiwgRSwgQj4oXG4gIG5hbWU6IEV4Y2x1ZGU8Tiwga2V5b2YgQT4sXG4gIGY6IChhOiBBKSA9PiBLaW5kNDxNLCBTLCBSLCBFLCBCPlxuKSA9PiAobWE6IEtpbmQ0PE0sIFMsIFIsIEUsIEE+KSA9PiBLaW5kNDxNLCBTLCBSLCBFLCB7IHJlYWRvbmx5IFtLIGluIGtleW9mIEEgfCBOXTogSyBleHRlbmRzIGtleW9mIEEgPyBBW0tdIDogQiB9PlxuZXhwb3J0IGZ1bmN0aW9uIGJpbmQ8TSBleHRlbmRzIFVSSVMzPihcbiAgTTogQ2hhaW4zPE0+XG4pOiA8TiBleHRlbmRzIHN0cmluZywgQSwgUiwgRSwgQj4oXG4gIG5hbWU6IEV4Y2x1ZGU8Tiwga2V5b2YgQT4sXG4gIGY6IChhOiBBKSA9PiBLaW5kMzxNLCBSLCBFLCBCPlxuKSA9PiAobWE6IEtpbmQzPE0sIFIsIEUsIEE+KSA9PiBLaW5kMzxNLCBSLCBFLCB7IHJlYWRvbmx5IFtLIGluIGtleW9mIEEgfCBOXTogSyBleHRlbmRzIGtleW9mIEEgPyBBW0tdIDogQiB9PlxuZXhwb3J0IGZ1bmN0aW9uIGJpbmQ8TSBleHRlbmRzIFVSSVMzLCBFPihcbiAgTTogQ2hhaW4zQzxNLCBFPlxuKTogPE4gZXh0ZW5kcyBzdHJpbmcsIEEsIFIsIEI+KFxuICBuYW1lOiBFeGNsdWRlPE4sIGtleW9mIEE+LFxuICBmOiAoYTogQSkgPT4gS2luZDM8TSwgUiwgRSwgQj5cbikgPT4gKG1hOiBLaW5kMzxNLCBSLCBFLCBBPikgPT4gS2luZDM8TSwgUiwgRSwgeyByZWFkb25seSBbSyBpbiBrZXlvZiBBIHwgTl06IEsgZXh0ZW5kcyBrZXlvZiBBID8gQVtLXSA6IEIgfT5cbmV4cG9ydCBmdW5jdGlvbiBiaW5kPE0gZXh0ZW5kcyBVUklTMj4oXG4gIE06IENoYWluMjxNPlxuKTogPE4gZXh0ZW5kcyBzdHJpbmcsIEEsIEUsIEI+KFxuICBuYW1lOiBFeGNsdWRlPE4sIGtleW9mIEE+LFxuICBmOiAoYTogQSkgPT4gS2luZDI8TSwgRSwgQj5cbikgPT4gKG1hOiBLaW5kMjxNLCBFLCBBPikgPT4gS2luZDI8TSwgRSwgeyByZWFkb25seSBbSyBpbiBrZXlvZiBBIHwgTl06IEsgZXh0ZW5kcyBrZXlvZiBBID8gQVtLXSA6IEIgfT5cbmV4cG9ydCBmdW5jdGlvbiBiaW5kPE0gZXh0ZW5kcyBVUklTMiwgRT4oXG4gIE06IENoYWluMkM8TSwgRT5cbik6IDxOIGV4dGVuZHMgc3RyaW5nLCBBLCBCPihcbiAgbmFtZTogRXhjbHVkZTxOLCBrZXlvZiBBPixcbiAgZjogKGE6IEEpID0+IEtpbmQyPE0sIEUsIEI+XG4pID0+IChtYTogS2luZDI8TSwgRSwgQT4pID0+IEtpbmQyPE0sIEUsIHsgcmVhZG9ubHkgW0sgaW4ga2V5b2YgQSB8IE5dOiBLIGV4dGVuZHMga2V5b2YgQSA/IEFbS10gOiBCIH0+XG5leHBvcnQgZnVuY3Rpb24gYmluZDxNIGV4dGVuZHMgVVJJUz4oXG4gIE06IENoYWluMTxNPlxuKTogPE4gZXh0ZW5kcyBzdHJpbmcsIEEsIEI+KFxuICBuYW1lOiBFeGNsdWRlPE4sIGtleW9mIEE+LFxuICBmOiAoYTogQSkgPT4gS2luZDxNLCBCPlxuKSA9PiAobWE6IEtpbmQ8TSwgQT4pID0+IEtpbmQ8TSwgeyByZWFkb25seSBbSyBpbiBrZXlvZiBBIHwgTl06IEsgZXh0ZW5kcyBrZXlvZiBBID8gQVtLXSA6IEIgfT5cbmV4cG9ydCBmdW5jdGlvbiBiaW5kPE0+KFxuICBNOiBDaGFpbjxNPlxuKTogPE4gZXh0ZW5kcyBzdHJpbmcsIEEsIEI+KFxuICBuYW1lOiBFeGNsdWRlPE4sIGtleW9mIEE+LFxuICBmOiAoYTogQSkgPT4gSEtUPE0sIEI+XG4pID0+IChtYTogSEtUPE0sIEE+KSA9PiBIS1Q8TSwgeyByZWFkb25seSBbSyBpbiBrZXlvZiBBIHwgTl06IEsgZXh0ZW5kcyBrZXlvZiBBID8gQVtLXSA6IEIgfT5cbmV4cG9ydCBmdW5jdGlvbiBiaW5kPE0+KFxuICBNOiBDaGFpbjxNPlxuKTogPE4gZXh0ZW5kcyBzdHJpbmcsIEEsIEI+KFxuICBuYW1lOiBFeGNsdWRlPE4sIGtleW9mIEE+LFxuICBmOiAoYTogQSkgPT4gSEtUPE0sIEI+XG4pID0+IChtYTogSEtUPE0sIEE+KSA9PiBIS1Q8TSwgeyByZWFkb25seSBbSyBpbiBrZXlvZiBBIHwgTl06IEsgZXh0ZW5kcyBrZXlvZiBBID8gQVtLXSA6IEIgfT4ge1xuICByZXR1cm4gKG5hbWUsIGYpID0+IChtYSkgPT4gTS5jaGFpbihtYSwgKGEpID0+IE0ubWFwKGYoYSksIChiKSA9PiBPYmplY3QuYXNzaWduKHt9LCBhLCB7IFtuYW1lXTogYiB9KSBhcyBhbnkpKVxufVxuIl19